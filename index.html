<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Sports Game</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="root"></div>

    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <script type="text/babel">
        class Team extends React.Component {
            constructor(props) {
                super(props)

                this.state = {
                    shots: 0,
                    score: 0,
                }
                this.shotSound = new Audio("./assets/audio/heartbeat.wav")
                this.scoreSound = new Audio("./assets/audio/SQUISH11.wav")
            }

            shotHandler = () => {
                let score = this.state.score
                this.shotSound.play()

                if (Math.random() > 0.5) {
                    score += 1
                    setTimeout(() => {

                        this.scoreSound.play()
                    }, 100)
                }
                this.setState((state, props) => ({
                    shots: state.shots + 1,
                    score
                }))
            }
            render() {
                let shotPercentageDiv
                let shotPercentage = 0
                if (this.state.shots) {

                    shotPercentage = (Math.round(this.state.score / this.state.shots * 100))
                }
                shotPercentageDiv = (
                    <div>
                        <strong>Shooting %:{shotPercentage}</strong>
                    </div>
                )
                return (
                    <div className="Team">
                        <h2>{this.props.name}</h2>

                        <div className="Picture">
                            <img src={this.props.logo} alt={this.props.name} />
                            <div>
                                <strong>Shots:</strong> {this.state.shots}
                            </div>
                            <div>
                                <strong>Score:{shotPercentage}</strong> {this.state.score}
                            </div>
                            {shotPercentageDiv}
                            <button onClick={this.shotHandler}>Shoot!</button>

                        </div>

                    </div>
                )
            }
        }

        function Game(props) {
            return (
                <div className="Game">
                    <h1>Count Dracula Welcomes You to {props.venue}</h1>
                    <div className="Stats">
                        <Team name={props.homeTeam.name}
                            logo={props.homeTeam.logoSrc} />

                        <div className="Verses">
                            <h1> Vs.</h1>
                        </div>

                        <Team name={props.visitingTeam.name}
                            logo={props.visitingTeam.logoSrc}
                        />
                        

                    </div>
                </div>
            )
        }

        function App(props) {
            const pumpkin = {
                name: "Pumpkin Heads",
                logoSrc: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.DGUDP68a8NZobmDiaabu7QHaF8%26pid%3DApi&f=1"
            }

            const mummy = {
                name: "Mummy Maverics",
                logoSrc: "https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fteamlogostyle.com%2Fwp-content%2Fuploads%2F2016%2F03%2F2987-mummy-basketball-clip-art-preview.jpg&f=1&nofb=1"
            }

            const skeleton = {
                name: "Slam Dunkin Skeletons",
                logoSrc: "https://thumbs.dreamstime.com/x/funny-halloween-sports-basketball-pumpkin-16749460.jpg"
            }

            const zombie = {
                name: "Zombie Brainiacs",
                logoSrc: "https://comps.canstockphoto.com/zombie-basketball-vector-clip-art_csp64292318.jpg"
            }
            return (
                <div className="App">
                    <Game venue="Transylvania Castle Arena"
                        homeTeam={pumpkin}
                        visitingTeam={mummy} />
                    <Game venue="Blue Lagoon Swamp Complex"
                        homeTeam={skeleton}
                        visitingTeam={zombie} />


                </div>
            )

        }

        ReactDOM.render(
            <App />,
            document.getElementById('root')
        )


    </script>

</body>

</html>
<footer>
    //Thank you to flickr.com for the use of the basketball pumpkin head image and to
    http://teamlogostyle.com/product/mummy-basketball-clip-art/ for the use of the mummy basketball image in this
    project. For medium mode I'd like to thank
    http://dreamstime.com/stock-photo-funny-halloween-sports-basketball-pumpkin-image16749460// for the use of the
    skeleton holding pumpkin image and to https://www.canstockphoto.com/zombie-basketball-64292318.html for the zombie
    image.
    Also, Thank you to https://www.freesoundeffects.com/ for the use of the heartbeat and squish sounds for the shots and goals counter.
    Special thank you to Davy Strus for the example videos and all who contributed to the starter code repos.//
</footer>